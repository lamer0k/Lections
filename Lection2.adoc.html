  <html>
    <head>
      <meta charset="utf-8">
      <title>Get to know Atom!</title>
      <style>
        #wrapper {width: 960px; margin: 0 auto;}
        /* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}

      </style>
      <link href='https://fonts.googleapis.com/css?family=Noto+Serif' rel='stylesheet' type='text/css'>
      <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic' rel='stylesheet' type='text/css'>
      <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/default.min.css">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/asciidoc.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/yaml.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/dockerfile.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/makefile.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/go.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/rust.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/haskell.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/typescript.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/scss.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/less.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/handlebars.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/groovy.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/scala.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/bash.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/ini.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script>
    </head>
    <body>
      <div id="wrapper">
        <div class="article">
          <div class="sect1">
<h2 id="_лекция_2">Лекция 2</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_портируемость_проекта">Портируемость проекта</h2>
<div class="sectionbody">
<div id="__asciidoctor-preview-1__" class="paragraph">
<p>Для того, чтобы ваш проект мог хорошо портироваться на другие типы микроконтроллеров мы должны
принять некоторые меры.</p>
</div>
<div id="__asciidoctor-preview-2__" class="ulist">
<ul>
<li id="__asciidoctor-preview-3__">
<p>Применять одни и те же типы данных, имеющие один и тот же размер</p>
</li>
<li id="__asciidoctor-preview-4__">
<p>Разделять часть, которая отвечает за аппаратуру и аппаратные модули, зависящую от микроконтроллера
и бизнес логику, которая не зависит от аппаратуры</p>
</li>
<li id="__asciidoctor-preview-5__">
<p>Использовать разделение реализации и интерфейсов</p>
</li>
</ul>
</div>
<div id="__asciidoctor-preview-6__" class="paragraph">
<p>Сейчас нам важны типы данных.</p>
</div>
<div class="sect2">
<h3 id="_типы_данных">Типы данных</h3>
<div id="__asciidoctor-preview-7__" class="openblock notes">
<div class="content">
<div id="__asciidoctor-preview-8__" class="paragraph">
<p>Одно из главных правил портируемости состоит в том, что для разных ядер микроконтроллеров один и тот
же тип переменной имел одинаковый размер. Для этого давайте разберемся, что такое тип и почему он
может иметь разную длину?
Для нашего микроконтроллера компилятор поддерживает следующие типы, см <a href="#Встроенные типа С++">[Встроенные типа С++]</a>.</p>
</div>
</div>
</div>
<div id="__asciidoctor-preview-9__" class="imageblock">
<div class="content">
<img src="Lection2Img/Figure3.png" alt="800" width="1280">
</div>
<div class="title">Figure 1. Типы данных в С++</div>
</div>
</div>
<div class="sect2">
<h3 id="_встроенные_типы">Встроенные типы</h3>
<table id="__asciidoctor-preview-10__" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Встроенные типы С++</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Тип</th>
<th class="tableblock halign-left valign-top">Длина</th>
<th class="tableblock halign-left valign-top">Комментарий</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>bool</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Представляет значения, которые могут быть или <strong>true</strong>, или <strong>false</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>char</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Используется для символов ASCII в старых строках в стиле C или в объектах std::string,
которые никогда не будут преобразовываться в Юникод.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>unsigned char</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Аналог байта. В С++17 стандарте появился тип std::byte</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>int</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Целочисленное значение. Выбор по умолчанию для целых чисел</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>unsigned int</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Беззнаковое целое число</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>float</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Число с плавающей точкой, поддерживается аппаратно некоторыми микроконтроллерами</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>double</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Число с плавающей запятой двойной точности. Выбор по умолчанию для значений с плавающей
точкой</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_модификаторы_типов_данных">Модификаторы типов данных</h3>
<table id="__asciidoctor-preview-35__" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Встроенные типа С++ модификаторы</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Тип</th>
<th class="tableblock halign-left valign-top">Длина</th>
<th class="tableblock halign-left valign-top">Комментарий</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>short int</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Целочисленное знаковое значение укороченной длины</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>unsigned short int</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Целочисленное беззнаковое значение укороченной длины</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>long int</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Выбор по умолчанию для целочисленных значений. На платформах на которых int равен по
длине unsigned short int может быть длиннее int</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>unsigned long int</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Целое число двойной длины. На платформах на которых int равен по длине unsigned short int может быть
длиннее int</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>long double</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Число с плавающей точкой двойной точности	с двойной точностью</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_размеры_типов_данных">Размеры типов данных</h3>
<div id="__asciidoctor-preview-54__" class="paragraph">
<p>Размеры типов не четко определены и могут отличаться для различных микроконтроллеров. Для размеров
типов существует правило:</p>
</div>
<div id="__asciidoctor-preview-55__" class="listingblock source">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="cpp" class="language-cpp hljs">1             &lt;= sizeof(char)     &lt;= sizeof() &lt;= sizeof(short) &lt;= sizeof(int) &lt;= sizeof(long)
1             &lt;= sizeof(bool)     &lt;= sizeof(long)
sizeof(char)  &lt;= sizeof(long)
sizeof(float) &lt;= sizeof(double)   &lt;= sizeof(long double)
sizeof(T)     == sizeof(signed T) == sizeof(unsigned T)</code></pre>
</div>
</div>
<div id="__asciidoctor-preview-56__" class="paragraph">
<p>Поэтому вместо прямых типов типа int, используйте псевдонимы, например:</p>
</div>
<div id="__asciidoctor-preview-57__" class="hdlist">
<table>
<tr>
<td class="hdlist1">
std::uint32_t
</td>
<td class="hdlist2">
<p>целое беззнаковое длиной 32 бита</p>
</td>
</tr>
<tr>
<td class="hdlist1">
std::int64_t
</td>
<td class="hdlist2">
<p>целое знаковое длинной 64 бита</p>
</td>
</tr>
<tr>
<td class="hdlist1">
std::uint8_t
</td>
<td class="hdlist2">
<p>целое знаковое длинной 8 бит</p>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_пользовательские_типы">Пользовательские типы</h3>
<div id="__asciidoctor-preview-64__" class="paragraph">
<p>Вы можете определить свой тип сами, либо сделать псевдоним типа. Любой класс или структура,
определенная вами, будет являться вашим типом. Например:</p>
</div>
<div id="__asciidoctor-preview-65__" class="listingblock source">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="cpp" class="language-cpp hljs">template&lt;typename T&gt;
struct Complex
{
  Complex(T r, T im): real{r}, imaginary{im} {} ;
  operator T { return sqrt(real*real + imaginary* imaginary) ;}
  Complex operator +(Complex value)
  {
    return Complex(real+ value.real, imaginary + value.imaginary) ;
  }
  private:
  T real; //вещественная часть
  T imaginary //мнимая часть
} ;

int main()
{
  Complex&lt;float&gt; value1(3.0f, 4.0f) ;
  Complex&lt;float&gt; value1(1.0f, 2.0f) ;
  value1 += value2 ;
  return 0;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_псевдонимы_типов">Псевдонимы типов</h3>
<div id="__asciidoctor-preview-66__" class="paragraph">
<p>Для того, чтобы было было понятнее работать с типом можно вводить их псевдонимы (alias). С помощью
ключевого слова <strong>using</strong> ;</p>
</div>
<div id="__asciidoctor-preview-67__" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="cpp" class="language-cpp hljs">auto t = std::make_tuple(10, "Test", 3.14, 2U);  <i class="conum" data-value="1"></i><b>(1)</b>
using tMytype = decltype(t) ;  <i class="conum" data-value="2"></i><b>(2)</b>
using tShortType = std::tuple&lt;int, string, double, tU32&gt; ; <i class="conum" data-value="3"></i><b>(3)</b>

void(tMyType &amp; value) {    <i class="conum" data-value="4"></i><b>(4)</b>
  ...
}


int main() {
  using tU32 = unsigned int ;  <i class="conum" data-value="5"></i><b>(5)</b>
  tU32 i = 10U ;               <i class="conum" data-value="6"></i><b>(6)</b>

  myfunction(t) ;              <i class="conum" data-value="7"></i><b>(7)</b>
}</code></pre>
</div>
</div>
<div id="__asciidoctor-preview-68__" class="openblock notes">
<div class="content">
<div id="__asciidoctor-preview-69__" class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Определяем кортеж из 4 элементов разного типа</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Объявляем псевдоним типа, который имеет кортеж (тип выводится компилятором)</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Тоже самое что и &lt;2&gt; за исключением того, что указываем тип напрямую</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Объявляем функцию, принимающую аргумент типа, который имеет кортеж</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Объявляем псевдоним типа unsigned int</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Определяем переменную типа unsigned int</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_неявное_преобразование_типов">Неявное преобразование типов</h3>
<div id="__asciidoctor-preview-76__" class="paragraph">
<p>Базовые/простые типы неявно можно привести друг к другу. Т.е</p>
</div>
<div id="__asciidoctor-preview-77__" class="listingblock source">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="cpp" class="language-cpp hljs">int a = 0; <i class="conum" data-value="1"></i><b>(1)</b>

char a = 512; <i class="conum" data-value="2"></i><b>(2)</b>

int a = 3.14;  <i class="conum" data-value="3"></i><b>(3)</b>

bool a = -4;  <i class="conum" data-value="4"></i><b>(4)</b>

bool a  = 0;  <i class="conum" data-value="5"></i><b>(5)</b></code></pre>
</div>
</div>
<div id="__asciidoctor-preview-78__" class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Присваимаем знаковое целое(int) число переменной целого типа</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Присваиваем знаковое целое(int) число переменной типа char. Результат в а 0 ;</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Присваиваем число с плавающей точкой(double) к переменной типа int. Результат в а 3</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Присваиваем знаковое целое(int) к переменной типа bool. Результат в а true</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Присваиваем знаковое целое(int) к переменной типа bool. Результат в а false</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_явное_преобразование_типов">Явное преобразование типов</h3>
<div id="__asciidoctor-preview-84__" class="paragraph">
<p>Так как компилятор может сделать за вас, то, что вы вообще не ожидаете, не нужно использовать неявное
преобразование типа.</p>
</div>
<div id="__asciidoctor-preview-85__" class="paragraph">
<p>Вместо этого, лучше указать компилятору явное преобразование из одного типа в другой.
В этом случае, вы говорите компилятору, что я понимаю, что я делаю, это именно так и задумано</p>
</div>
<div id="__asciidoctor-preview-86__" class="paragraph">
<p>Для преобразований из одного типа используют 4 вариантов преобразования:</p>
</div>
<div id="__asciidoctor-preview-87__" class="ulist">
<ul>
<li id="__asciidoctor-preview-88__">
<p>static_cast</p>
</li>
<li id="__asciidoctor-preview-89__">
<p>const_cast</p>
</li>
<li id="__asciidoctor-preview-90__">
<p>reinterpret_cast</p>
</li>
<li id="__asciidoctor-preview-91__">
<p>dynamic_cast</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_static_cast">static_cast</h3>
<div id="__asciidoctor-preview-92__" class="paragraph">
<p><strong>static_cast</strong> позволяет сделать приведение близких типов (целые, пользовательских типов которые могут
создаваться из типов который приводится, и указатель на void* к указателю на любой тип).</p>
</div>
<div id="__asciidoctor-preview-93__" class="paragraph">
<p>Проверка производится на уровне компиляции, так что в случае ошибки сообщение будет получено в момент
сборки приложения или библиотеки.</p>
</div>
<div id="__asciidoctor-preview-94__" class="listingblock source">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="cpp" class="language-cpp hljs">int a = static_cast&lt;int&gt;(0); <i class="conum" data-value="1"></i><b>(1)</b>

int a = static_cast&lt;int&gt;(3.14);  <i class="conum" data-value="2"></i><b>(2)</b>

bool a = static_cast&lt;bool&gt;(-4);  <i class="conum" data-value="3"></i><b>(3)</b>

bool a  = static_cast&lt;bool&gt;(0);  <i class="conum" data-value="4"></i><b>(4)</b>

float f = 3.14f ;     <i class="conum" data-value="5"></i><b>(5)</b>

float f = static_cast&lt;float&gt;(3.14) ;  <i class="conum" data-value="6"></i><b>(6)</b>

Complex f = static_cast&lt;3.14&gt; <i class="conum" data-value="7"></i><b>(7)</b></code></pre>
</div>
</div>
<div id="__asciidoctor-preview-95__" class="openblock notes">
<div class="content">
<div id="__asciidoctor-preview-96__" class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Явно говорим, что 0 должен восприниматься как тип (int), хотя он и так является литералом типа int.
Но все ли помнят об этом?</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Явно говорим, что 3.14 воспринимать как int, т.е взять только целую часть.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Явно говорим, -4 нужно воспринять как bool тип, в данном случае true.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Явно говорим, 0 нужно воспринять как bool тип, в данном случае false.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Явно говорим, что 3.14 это float</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Явно говорим, что 3.14 это float</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Комплексное число может создаться из double, поэтому тут будет работать static_cast.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_reinterpret_cast">reinterpret_cast</h3>
<div id="__asciidoctor-preview-104__" class="paragraph">
<p><strong>reinterpret_cast</strong> преобразует типы, несовместимыми друг с другом, и используется для:</p>
</div>
<div id="__asciidoctor-preview-105__" class="ulist">
<ul>
<li id="__asciidoctor-preview-106__">
<p>В свой собственный тип</p>
</li>
<li id="__asciidoctor-preview-107__">
<p>Указателя в интегральный тип</p>
</li>
<li id="__asciidoctor-preview-108__">
<p>Интегрального типа в указатель</p>
</li>
<li id="__asciidoctor-preview-109__">
<p>Указателя одного типа в указатель другого типа</p>
</li>
<li id="__asciidoctor-preview-110__">
<p>Указателя на функцию одного типа в указатель на функцию другого типа</p>
</li>
</ul>
</div>
<div id="__asciidoctor-preview-111__" class="listingblock source">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="cpp" class="language-cpp hljs">auto ptr = reinterpret_cast&lt;volatile uint32_t *&gt;(0x40010000) ; <i class="conum" data-value="1"></i><b>(1)</b>
auto value = *ptr ; <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div id="__asciidoctor-preview-112__" class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Преобразует адрес 0x40010000 в указатель типа volatile uint32_t</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Записывает в переменную value (типа) значение лежащее по указателю ptr, указывающего на адрес
0x40010000</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_память">Память</h2>
<div class="sectionbody">
<div id="__asciidoctor-preview-115__" class="paragraph">
<p>Как говорилось в первой лекции, ARM имеет общее адресное пространство для данных и команд.</p>
</div>
<div id="__asciidoctor-preview-116__" class="paragraph">
<p>Ядро ARM имеет 4 Гбайт последовательной памяти с адресов 0x00000000 до 0xFFFFFFFF.</p>
</div>
<div id="__asciidoctor-preview-117__" class="paragraph">
<p>Различные типы памяти могут быть расположены по эти адресам. Обычно микроконтроллер имеет постоянную
память, из которой можно только читать (ПЗУ) и оперативную память, из которой можно читать и в
которую можно писать (ОЗУ).</p>
</div>
<div id="__asciidoctor-preview-118__" class="paragraph">
<p>Также часть адресов этой памяти отведены под регистры управления и регистры периферии.</p>
</div>
<div class="sect2">
<h3 id="_память_микроконтроллера_cortexm4">Память микроконтроллера CortexM4</h3>
<div id="__asciidoctor-preview-119__" class="imageblock">
<div class="content">
<img src="Lection2Img/Figure4.png" alt="300" width="500">
</div>
<div class="title">Figure 2. Карта памяти микропроцессора</div>
</div>
<div id="__asciidoctor-preview-120__" class="openblock notes">
<div class="content">
<div id="__asciidoctor-preview-121__" class="paragraph">
<p>Микроконтроллер  на ядре Cortex M4 выполнен по Гарвардской архитектуре, память здесь разделена на
три типа:</p>
</div>
<div id="__asciidoctor-preview-122__" class="ulist">
<ul>
<li id="__asciidoctor-preview-123__">
<p>ПЗУ  (FLASH память в которой храниться программа)</p>
</li>
<li id="__asciidoctor-preview-124__">
<p>ОЗУ память для хранения временных данных (туда же можно по необходимости переместить программу и
выполнить её из ОЗУ), память в которой находятся регистры отвечающие за настройку и работу с
периферией и</p>
</li>
<li id="__asciidoctor-preview-125__">
<p>Память для хранения постоянных данных ЕЕPROM.</p>
</li>
</ul>
</div>
<div id="__asciidoctor-preview-126__" class="exampleblock">
<div class="content">
<div id="__asciidoctor-preview-127__" class="paragraph">
<p>Адресное пространство памяти программы (ПЗУ) находится по адресам <strong>0x00000000</strong> по <strong>0x1FFFFFFF</strong></p>
</div>
<div id="__asciidoctor-preview-128__" class="paragraph">
<p>Адресное пространство ОЗУ находится по адресам  <strong>0x20000000</strong> по <strong>0x3FFFFFFF</strong></p>
</div>
<div id="__asciidoctor-preview-129__" class="paragraph">
<p>Адресное пространство для регистров периферии находится по адресам с <strong>0x40000000</strong>  по <strong>0x5FFFFFFF</strong></p>
</div>
<div id="__asciidoctor-preview-130__" class="paragraph">
<p>Памяти EEPROM микропроцессора Stm32F411RE не содержит, см <a href="#Карта памяти микропроцессора">[Карта памяти микропроцессора]</a>.
Более подробно вы можете изучить адресное пространство микропроцессора в спецификации на микропроцессор <a href="#12">[12]</a>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_память_для_расположения_данных">Память для расположения данных</h3>
<div id="__asciidoctor-preview-131__" class="paragraph">
<p>Данные в памяти могут быть расположены 3 различными способами:</p>
</div>
<div id="__asciidoctor-preview-132__" class="ulist">
<ul>
<li id="__asciidoctor-preview-133__">
<p>Авто(локальные) переменные, которые являются локальными в функции располагаются в регистрах или в стеке.</p>
</li>
</ul>
</div>
<div id="__asciidoctor-preview-134__" class="openblock notes">
<div class="content">
<div id="__asciidoctor-preview-135__" class="paragraph">
<p>Такие переменные "существуют" только внутри функции, как только функция закончится и вернется к вызывающему
объекту, эти переменные становятся не валидными.</p>
</div>
</div>
</div>
<div id="__asciidoctor-preview-136__" class="ulist">
<ul>
<li id="__asciidoctor-preview-137__">
<p>Глобальные переменные или статические переменные. В этом случае они инициализируются единожды.</p>
</li>
</ul>
</div>
<div id="__asciidoctor-preview-138__" class="openblock notes">
<div class="content">
<div id="__asciidoctor-preview-139__" class="paragraph">
<p>Static означает, что та память, которая была выделена под эту переменную не будет изменяться и
закрепляется за этой переменной до конца работы приложения.</p>
</div>
</div>
</div>
<div id="__asciidoctor-preview-140__" class="ulist">
<ul>
<li id="__asciidoctor-preview-141__">
<p>Динамически размещаемые данные. Данные создаваемые на Куче(Heap)</p>
</li>
</ul>
</div>
<div id="__asciidoctor-preview-142__" class="openblock notes">
<div class="content">
<div id="__asciidoctor-preview-143__" class="paragraph">
<p>Если заранее не известно, сколько объектов нужно создать, и сколько памяти они будут отнимать, то придется
создавать их динамически, например с помощью оператора new, в таком случае, объекты будут создаваться в куче.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_память_под_функциикоманды">Память под функции(команды)</h4>
<div id="__asciidoctor-preview-144__" class="paragraph">
<p>Для расположения функций используется та же самая память с границами от <strong>0x00000000 - 0xFFFFFFFF</strong>.</p>
</div>
<div id="__asciidoctor-preview-145__" class="paragraph">
<p>По умолчанию весь код будет лежать в сегменте .text, который расположен в readonly памяти (обычно в ROM),
но можно разместить функции и в ОЗУ.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_указатели">Указатели</h3>
<div id="__asciidoctor-preview-146__" class="openblock notes">
<div class="content">
<div id="__asciidoctor-preview-147__" class="paragraph">
<p>Как мы уже поняли, данные могут находится в ОЗУ или ПЗУ. Каждой переменной содержащей данные соответствует
некий адрес памяти. К переменной можно обратиться непосредственно обращаясь к самой переменной, тогда мы
можем напрямую писать или читать значение с адреса переменной, либо можно обратиться косвенно, через указатель
или ссылку.</p>
</div>
</div>
</div>
<div id="__asciidoctor-preview-148__" class="paragraph">
<p>Указатель это переменная, которая хранит адрес какой-то другой переменной:</p>
</div>
<div id="__asciidoctor-preview-149__" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="cpp" class="language-cpp hljs">int main() {
  int  c = 463 ;   <i class="conum" data-value="1"></i><b>(1)</b>
  int* ptr = &amp;c ;  <i class="conum" data-value="2"></i><b>(2)</b>
  return 0;
}</code></pre>
</div>
</div>
<div id="__asciidoctor-preview-150__" class="openblock notes">
<div class="content">
<div id="__asciidoctor-preview-151__" class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Объявляем переменную <strong>c</strong> типа <strong>int</strong></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>объявляем указатель <strong>ptr</strong> на переменную <strong>c</strong> типа <strong>int</strong></td>
</tr>
</table>
</div>
</div>
</div>
<div id="Указатель" class="imageblock">
<div class="content">
<img src="Lection2Img/Figure5.png" alt="400" width="400">
</div>
<div class="title">Figure 3. Указатель</div>
</div>
<div id="__asciidoctor-preview-154__" class="paragraph">
<p>Размер указателя для нашего микроконтроллера 4 байта (32 бита).</p>
</div>
</div>
<div class="sect2">
<h3 id="_взятие_адреса_и_разыменование_указателя">Взятие адреса и разыменование указателя.</h3>
<div id="__asciidoctor-preview-155__" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="cpp" class="language-cpp hljs">int main() {
  int  c = 463 ;              <i class="conum" data-value="1"></i><b>(1)</b>
  int* ptr = &amp;c ;             <i class="conum" data-value="2"></i><b>(2)</b>
  cout &lt;&lt; &amp;c ;                <i class="conum" data-value="3"></i><b>(3)</b>
  cout &lt;&lt; c ;                 <i class="conum" data-value="4"></i><b>(4)</b>

  *ptr = 5;                   <i class="conum" data-value="5"></i><b>(5)</b>
  cout &lt;&lt; c &lt;&lt; ": " &lt;&lt; *ptr;  <i class="conum" data-value="6"></i><b>(6)</b>
}</code></pre>
</div>
</div>
<div id="__asciidoctor-preview-156__" class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Объявление переменной</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Оператор &amp; - оператор взятия адреса.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Выведется адрес переменной <strong>с</strong> (0х100)</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Выведется значение переменной с (463)</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Операция разыменование указателя, записываем в переменную по адресу, который лежит в ptr, число 5</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Вывод значения переменной с и значения лежащего по адресу, на который указывает указатель (5: 5)
По сути с и *ptr это одно и то же.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_операции_над_указателями">Операции над указателями</h3>
<div id="__asciidoctor-preview-163__" class="openblock notes">
<div class="content">
<div id="__asciidoctor-preview-164__" class="paragraph">
<p>Указатели можно складывать, вычитать, сравнивать. Но указатели должны быть одного типа. Т.е. не нужно
например складывать укатель типа <strong>char</strong> * и <strong>int</strong> *</p>
</div>
</div>
</div>
<div id="__asciidoctor-preview-165__" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="cpp" class="language-cpp hljs">int main() {
  int  arr[] = {1,2,3,4,5} ;    <i class="conum" data-value="1"></i><b>(1)</b>
  int* ptr = arr ;              <i class="conum" data-value="2"></i><b>(2)</b>

  ptr ++ ;                      <i class="conum" data-value="3"></i><b>(3)</b>
  int a = *(ptr + 4) ;          <i class="conum" data-value="4"></i><b>(4)</b>
  if(ptr != nullptr)            <i class="conum" data-value="5"></i><b>(5)</b>
    cout &lt;&lt; a &lt;&lt; ": " &lt;&lt; *ptr;  <i class="conum" data-value="6"></i><b>(6)</b>
}</code></pre>
</div>
</div>
<div id="__asciidoctor-preview-166__" class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Объявление массива <strong>arr</strong> из 5 элементов. В целом можно считать, что массив <strong>arr</strong> это указатель на первый элемент массива.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Обявления указателя на массив типа <strong>int</strong> ;</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Увеличиваем указатель на 1. На самом деле мы смещаемся по адресам на размер равный <strong>size_of(int)</strong>, т.е. на 4 байта. Т.е
в данном случае указатель <strong>ptr</strong> стал указывать на элемент массива <strong>arr[1]</strong>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Объявляем переменную <strong>а</strong> типа <strong>int</strong> и присваиваем ей значение <strong>аrr[4]</strong>.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Сравнение указателя с nullptr указателем.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Вывод значения <strong>а</strong> и значения по адресу в указателе <strong>ptr</strong>. Вывод (5: 2)</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_сложение_указателей">Сложение указателей</h3>
<div id="__asciidoctor-preview-173__" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="cpp" class="language-cpp hljs">int main() {
  int  arr[] = {1,2,3,4,5} ;    <i class="conum" data-value="1"></i><b>(1)</b>
  int* ptr = arr ;              <i class="conum" data-value="2"></i><b>(2)</b>

  ptr ++ ;                      <i class="conum" data-value="3"></i><b>(3)</b>
  int a = *(ptr + 4) ;          <i class="conum" data-value="4"></i><b>(4)</b>
}</code></pre>
</div>
</div>
<div id="__asciidoctor-preview-174__" class="imageblock">
<div class="content">
<img src="Lection2Img/Figure6.png" alt="800" width="800">
</div>
<div class="title">Figure 4. Сложение указателей</div>
</div>
</div>
<div class="sect2">
<h3 id="_константный_указатель_и_указатель_на_константу">Константный указатель и указатель на константу</h3>
<div id="__asciidoctor-preview-175__" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="cpp" class="language-cpp hljs">int main() {
  const auto pi[] = {3.14, 3.14159} ;
  const double *ptr = pi ;
  *ptr = 3.14159 ;                  <i class="conum" data-value="1"></i><b>(1)</b>
  ptr++ ;                           <i class="conum" data-value="2"></i><b>(2)</b>
  count &lt;&lt; *ptr ;                   <i class="conum" data-value="3"></i><b>(3)</b>
  const double * const ptr1 = pi ;  <i class="conum" data-value="4"></i><b>(4)</b>
  ptr1++  ;                         <i class="conum" data-value="5"></i><b>(5)</b>
  retrun 0 ;
}</code></pre>
</div>
</div>
<div id="__asciidoctor-preview-176__" class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Пытаемся поменять значение по указателю <strong>ptr</strong> (pi[0]). Ошибка, указатель на константу, нельзя
поменять значение константы</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Увеличиваем указатель на 1 (теперь указатель указывает на p[1]).</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Вывод значения по указателю (3.14159)</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Объявляем константный указатель на константу</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Нельзя изменить указатель, он константный</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_ссылка">Ссылка</h3>
<div id="__asciidoctor-preview-182__" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="cpp" class="language-cpp hljs">int main(){
  int a = 0;
  int &amp;ref = a ;                <i class="conum" data-value="1"></i><b>(1)</b>
  ref = 10;                     <i class="conum" data-value="2"></i><b>(2)</b>
  cout &lt;&lt; &amp;ref &lt;&lt; ": " &lt;&lt; ref ; <i class="conum" data-value="3"></i><b>(3)</b>
  return 0 ;
}</code></pre>
</div>
</div>
<div id="__asciidoctor-preview-183__" class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Объявляем ссылку на переменную <strong>а</strong></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Записываем в переменную <strong>а</strong> число 10</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Выводим адрес перменной <strong>а</strong> и значение переменной <strong>a</strong></td>
</tr>
</table>
</div>
<div id="__asciidoctor-preview-187__" class="openblock">
<div class="content">
<div id="__asciidoctor-preview-188__" class="paragraph">
<p>Ссылка это псевдоним переменной.</p>
</div>
</div>
</div>
<div id="__asciidoctor-preview-189__" class="ulist">
<ul>
<li id="__asciidoctor-preview-190__">
<p>У ссылки нельзя взять адрес. Если применить оператор взятия адреса к ней, то будет выведен адрес
переменной, на которую она ссылается</p>
</li>
<li id="__asciidoctor-preview-191__">
<p>Ссылка ведет себя почти также как константный указатель. Её нельзя изменять, складывать, вычитать</p>
</li>
<li id="__asciidoctor-preview-192__">
<p>Ссылки нельзя сравнивать</p>
</li>
<li id="__asciidoctor-preview-193__">
<p>Ссылка не может быть не проинициализирована.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_регистр">Регистр</h2>
<div class="sectionbody">
<div id="__asciidoctor-preview-194__" class="ulist">
<ul>
<li id="__asciidoctor-preview-195__">
<p>Существуют регистры общего назначения и специальные регистры. Регистры общего назначения расположены
внутри ядра микроконтроллера(сверхбыстрая память).</p>
</li>
<li id="__asciidoctor-preview-196__">
<p>Регистры общего назначения - это сверхбыстрая память внутри процессора, предназначенная для
хранения адресов и промежуточных результатов вычислений (регистр общего назначения/регистр данных)
или данных, необходимых для работы самого процессора.</p>
</li>
<li id="__asciidoctor-preview-197__">
<p>Регистры специального назначения расположены в ОЗУ микроконтроллера и используются для управления
процессором и периферийными устройствами.</p>
</li>
<li id="__asciidoctor-preview-198__">
<p>Каждый регистр в архитектуре ARM представляет собой ресурс памяти и имеет длину в 32 бита, где каждый
бит можно представить в виде выключателя с помощью которого осуществляется управление тем или иным
параметром микроконтроллера <a href="#10">[10]</a>.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_регистры_общего_назначения">Регистры общего назначения</h3>
<div id="__asciidoctor-preview-199__" class="paragraph">
<p>С точки зрения прикладного программиста, процессор располагает 16-ю 32-разрядными регистрами общего
назначения (РОН, GPR), из которых три на деле имеют специальные функции:</p>
</div>
<div id="__asciidoctor-preview-200__" class="ulist">
<ul>
<li id="__asciidoctor-preview-201__">
<p>Оперативные регистры</p>
</li>
<li id="__asciidoctor-preview-202__">
<p>Вспомогательные регистры</p>
</li>
<li id="__asciidoctor-preview-203__">
<p>Специальные регистры</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_оперативные_регистры">Оперативные регистры</h3>
<div id="__asciidoctor-preview-204__" class="paragraph">
<p>Регистры <strong>R0-R3</strong>, <strong>R12</strong> являются оперативными(sratch) регистрами. Любая функция может использовать эти
регистры по своему усмотрению и уничтожать содержимое этих регистров.</p>
</div>
<div id="__asciidoctor-preview-205__" class="paragraph">
<p>Если функции нужны значения этих регистров после вызова другой функции, она должна сохранить их на
стеке, а после вызова восстановить.</p>
</div>
</div>
<div class="sect2">
<h3 id="_вспомогательные_регистры">Вспомогательные регистры</h3>
<div id="__asciidoctor-preview-206__" class="paragraph">
<p>Регистры от <strong>R4-R11</strong> являются вспомогательными. Любая функция должна сохранить их на входе, а при
выходе восстановить их значение.</p>
</div>
</div>
<div class="sect2">
<h3 id="_специальные_регистры">Специальные регистры</h3>
<div id="__asciidoctor-preview-207__" class="ulist">
<ul>
<li id="__asciidoctor-preview-208__">
<p>Регистр указателя на стек <strong>R13/SP</strong>, должен всегда указывать на последний элемент стека или ниже него.</p>
</li>
<li id="__asciidoctor-preview-209__">
<p>Регистр <strong>R15/PC</strong> есть программный счетчик.</p>
</li>
<li id="__asciidoctor-preview-210__">
<p>Регистр <strong>R14/LR</strong>, содержит адрес возврата функции.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_регистр_специального_назачения">Регистр специального назачения</h3>
<div id="Register" class="imageblock">
<div class="content">
<img src="Lection2Img/Figure1.png" alt="800" width="800">
</div>
<div class="title">Figure 5. Схематичное изображение регистра</div>
</div>
<div id="__asciidoctor-preview-211__" class="openblock notes">
<div class="content">
<div id="__asciidoctor-preview-212__" class="ulist">
<ul>
<li id="__asciidoctor-preview-213__">
<p>Название регистра</p>
</li>
</ul>
</div>
</div>
</div>
<div id="__asciidoctor-preview-214__" class="ulist">
<ul>
<li id="__asciidoctor-preview-215__">
<p>Адрес регистра обозначается 32-битным шестнадцатеричным числом.</p>
</li>
<li id="__asciidoctor-preview-216__">
<p>Тип доступа к ячейкам регистра.</p>
</li>
<li id="__asciidoctor-preview-217__">
<p>Длина - количество ячеек в одном регистре. Мы будем работать с 32-битными регистрами.</p>
</li>
<li id="__asciidoctor-preview-218__">
<p>Поле - набор ячеек регистра, отвечающих за работу одной из функции микроконтроллера</p>
</li>
<li id="__asciidoctor-preview-219__">
<p>Значение поля - есть пространство всех возможных величин, которые может принимать поле</p>
</li>
</ul>
</div>
<div id="__asciidoctor-preview-220__" class="openblock notes">
<div class="content">
<div id="__asciidoctor-preview-221__" class="paragraph">
<p>Значение поля зависит от длины поля. Т.е. если поле имеет длину 2, то существует 4 возможные
значения поля (0,1,2,3). Так же как у регистра, у полей и значений полей есть режим доступа (чтение,
записать, чтение и запись)</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_пример_регистра_специального_назначения">Пример регистра специального назначения</h3>
<div id="__asciidoctor-preview-222__" class="openblock notes">
<div class="content">
<div id="__asciidoctor-preview-223__" class="paragraph">
<p>Как было сказано выше регистры используются для управления микроконтроллером и его периферией.
Например, чтобы запустить таймер 1 на счет, необходимо в Таймере1, в регистре CR1(Control Register1)
в поле CEN (Counter Enable) установить значение 1 (Enable).</p>
</div>
</div>
</div>
<div id="RegisterCR1" class="imageblock">
<div class="content">
<img src="Lection2Img/Figure2.png" alt="800" width="800">
</div>
<div class="title">Figure 6. Регистр CR1 Таймера 1</div>
</div>
<div id="__asciidoctor-preview-224__" class="literalblock">
<div class="content">
<pre>Бит 0 CEN: Включить счетчик
    0: Счетчик включен: Disable
    1: Счетчик выключен: Enable</pre>
</div>
</div>
<div id="__asciidoctor-preview-225__" class="paragraph">
<p>Здесь, например, CEN — это поле размером 1 бит имеющее смещение 0 относительно начала регистра.
А Enable(1) и Disable(0) это его возможные значения.</p>
</div>
</div>
<div class="sect2">
<h3 id="_доступ_к_регистру_специального_назначения">Доступ к регистру специального назначения</h3>
<div id="__asciidoctor-preview-226__" class="paragraph">
<p>Так как регистр специального назначения - это просто адресуемая ячейка памяти, то в коде это может
мы можем обратиться к данным по этому адресу, разыменовывая указатель, указывающий на этот адрес:</p>
</div>
<div id="__asciidoctor-preview-227__" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="cpp" class="language-cpp hljs">int main()
{
  *reinterpret_cast&lt;uint32_t *&gt;(0x40010000) |= 1 &lt;&lt; 0 ; <i class="conum" data-value="1"></i><b>(1)</b>
  TIM1::CR1::CEN::Enable::Set() ;                       <i class="conum" data-value="2"></i><b>(2)</b>
}</code></pre>
</div>
</div>
<div id="__asciidoctor-preview-228__" class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Записываем 1 в нулевой бит ячейки памяти (регистра) по адресу 0x40010000</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Тоже самое, но с использование специального класса на С++</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_работа_с_регистрами_периферии_через_обертку_на_с">Работа с регистрами периферии через обертку на С++</h3>
<div id="__asciidoctor-preview-231__" class="openblock notes">
<div class="content">
<div id="__asciidoctor-preview-232__" class="paragraph">
<p>Для того, чтобы настроить определенное периферийное устройство процессора, необходимо изменить
значение поля соответствующем регистре.</p>
</div>
<div id="__asciidoctor-preview-233__" class="paragraph">
<p>Для более удобной работы с регистрами можно использовать С++ обертку. Эта обертка позволяет обращаться
к регистрам в форме очень похоже с тем, как эти регистры описаны в документации.</p>
</div>
<div id="__asciidoctor-preview-234__" class="paragraph">
<p>Так, например, для запуска внешнего источника частоты, необходимо обратиться к регистру “CR”
периферии “RCC”, полю HSEON и установить в нем значение Enable.
Операция обращения к регистру выглядит следующим образом:</p>
</div>
</div>
</div>
<div id="__asciidoctor-preview-235__" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="cpp" class="language-cpp hljs">---
int main()
{
  RCC::CR::HSEON::Enable::Set() ;
}
---</code></pre>
</div>
</div>
<div id="RCC::CR" class="imageblock">
<div class="content">
<img src="Lection2Img/Figure9.png" alt="Figure9">
</div>
<div class="title">Figure 7. Подсказка для регистра CR модуля периферии RCC</div>
</div>
</div>
<div class="sect2">
<h3 id="_некоторые_моменты_при_работе_с_оберткой_с_для_регистров">Некоторые моменты при работе с оберткой С++ для регистров</h3>
<div id="__asciidoctor-preview-236__" class="openblock notes">
<div class="content">
<div id="__asciidoctor-preview-237__" class="paragraph">
<p>Код для регистров был сгенерирован автоматически, см <a href="#13">[13]</a>. Поэтому по умолчанию все значения полей
называются в формате ValueX, где Х-само значение. Поэтому тот момент когда нужно их использовать,
нужно заглянуть в документацию и поменять слова Value, на что-то более внятное.</p>
</div>
<div id="__asciidoctor-preview-238__" class="paragraph">
<p>Для того, чтобы найти место где объявляется значение поля, необходимо правой мышкой нажать на значении
и найти все его объявления.</p>
</div>
</div>
</div>
<div id="RCC::CR" class="imageblock">
<div class="content">
<img src="Lection2Img/Figure10.png" alt="Figure10">
</div>
<div class="title">Figure 8. Поиск места объявления значения</div>
</div>
<div id="__asciidoctor-preview-239__" class="openblock notes">
<div class="content">
<div id="__asciidoctor-preview-240__" class="paragraph">
<p>На самом деле, все значения полей определены в файлах, которые лежат в папке:
AbstractHardware\Registers\STM32F411\FieldValues</p>
</div>
<div id="__asciidoctor-preview-241__" class="paragraph">
<p>Можно открыть файл с именем [имя периферии]filedvalues.hpp и найти там структуру названием
ИМЯ ПЕРИФЕРИ_ИМЯ РЕГИСТРА_ИМЯ ПОЛЯ_Values.</p>
</div>
<div id="__asciidoctor-preview-242__" class="paragraph">
<p>Например, для значений поля HSEON модуля периферии RCC, регистра CR, необходимо:</p>
</div>
</div>
</div>
<div id="__asciidoctor-preview-243__" class="olist arabic">
<ol class="arabic">
<li id="__asciidoctor-preview-244__">
<p>открыть файл AbstractHardware\Registers\STM32F411\FieldValues\rccfieldvalues.hpp,</p>
</li>
<li id="__asciidoctor-preview-245__">
<p>найти структуру struct RCC_CR_HSEON_Values</p>
</li>
<li id="__asciidoctor-preview-246__">
<p>поменять в этой структуре <strong>Value0</strong> на <strong>Disable</strong>, а <strong>Value1</strong> на <strong>Enable</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_тест">тест</h3>
<div id="__asciidoctor-preview-247__" class="literalblock">
<div class="content">
<pre>                   +-------------+
                   | Asciidoctor |-------+
                   |   diagram   |       |
                   +-------------+       | PNG out
                       ^                 |
                       | ditaa in        |
                       |                 v
 +--------+   +--------+----+    /---------------\
 |        | --+ Asciidoctor +--&gt; |               |
 |  Text  |   +-------------+    |   Beautiful   |
 |Document|   |   !magic!   |    |    Output     |
 |     {d}|   |             |    |               |
 +---+----+   +-------------+    \---------------/
     :                                   ^
     |          Lots of work             |
     +-----------------------------------+</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_соглашение_об_вызовах">Соглашение об вызовах</h2>
<div class="sectionbody">
<div id="__asciidoctor-preview-248__" class="paragraph">
<p>Соглашение об вызовах включает в себя:
* Объявление функции
* Компоновка С и С++ кода
* Последовательность использования оперативных регистров и вспомогательные регистров
* Вход в функцию
* Выход из функции
* Обработка адреса возврата</p>
</div>
<div class="sect2">
<h3 id="_объявление_функции">Объявление функции</h3>
<div id="__asciidoctor-preview-249__" class="paragraph">
<p>Функция должна быть объявлена в таком порядке, чтобы компилятор мог узнать как её вызвать.
Объявление функции может выглядеть следующим образом:</p>
</div>
<div id="__asciidoctor-preview-250__" class="exampleblock">
<div class="content">
<div id="__asciidoctor-preview-251__" class="paragraph">
<p>int MyFunction(int first, char * second);</p>
</div>
</div>
</div>
<div id="__asciidoctor-preview-252__" class="paragraph">
<p>Все что знает об этой функции компилятор, это то, что она принимает два параметра: целое и указатель
на символ. И функция должна вернуть целое значение. Этого достаточно для компилятора, чтобы понять
как вызвать эту функцию.</p>
</div>
</div>
<div class="sect2">
<h3 id="_компоновка_с_и_с_кода">Компоновка С и С++ кода</h3>
<div id="__asciidoctor-preview-253__" class="paragraph">
<p>В C+ , функция может компоноваться либо как С +, либо как С функция. Пример объявления функции
с Си компоновкой:</p>
</div>
<div id="__asciidoctor-preview-254__" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="c" class="language-c hljs">extern "C" {
  int F(int);
}</code></pre>
</div>
</div>
<div id="__asciidoctor-preview-255__" class="paragraph">
<p>Если вы хотите вызвать функции ассемблера из С++, то лучше объявить эту функцию, как имеющую тип
компоновки Си</p>
</div>
</div>
<div class="sect2">
<h3 id="_вход_в_функцию">Вход в функцию</h3>
<div id="__asciidoctor-preview-256__" class="paragraph">
<p>Параметры передающие в функцию могут использовать два метода:</p>
</div>
<div id="__asciidoctor-preview-257__" class="ulist">
<ul>
<li id="__asciidoctor-preview-258__">
<p>Через регистры</p>
</li>
<li id="__asciidoctor-preview-259__">
<p>Через стек</p>
</li>
</ul>
</div>
<div id="__asciidoctor-preview-260__" class="paragraph">
<p>Для большей эффективности параметры передаются через регистры, но их число ограничено, поэтому
если регистров не хватает, то используется стек. Для передачи параметров используются
оперативные регистры <strong>R0:R3</strong></p>
</div>
</div>
<div class="sect2">
<h3 id="_выход_из_функции">Выход из функции</h3>
<div id="__asciidoctor-preview-261__" class="paragraph">
<p>Функция может вернуть значение. Для возврата значения используются регистры <strong>R0:R1</strong>. Если значение
больше 64 бит, то в регистр R0 записывается адрес где лежат данные.</p>
</div>
<div id="__asciidoctor-preview-262__" class="paragraph">
<p>Вызывающая функция обязана очистить стек, после того, как вызываемая функция вернула значение.</p>
</div>
</div>
<div class="sect2">
<h3 id="_операторы">Операторы</h3>
<div id="__asciidoctor-preview-263__" class="ulist">
<ul>
<li id="__asciidoctor-preview-264__">
<p>Арифметические операторы</p>
</li>
<li id="__asciidoctor-preview-265__">
<p>Операторы сравнения</p>
</li>
<li id="__asciidoctor-preview-266__">
<p>Логические операторы</p>
</li>
<li id="__asciidoctor-preview-267__">
<p>Побитовые операторы</p>
</li>
<li id="__asciidoctor-preview-268__">
<p>Составное присваивание</p>
</li>
<li id="__asciidoctor-preview-269__">
<p>Операторы работы с указателями и членами класса</p>
</li>
<li id="__asciidoctor-preview-270__">
<p>Функторы, тернарные операции, sizeof(), запятая, приведение типа, new</p>
</li>
</ul>
</div>
<div id="__asciidoctor-preview-271__" class="openblock notes">
<div class="content">
<div id="__asciidoctor-preview-272__" class="paragraph">
<p>Все операторы можно переопределить</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_арифметические_операторы">Арифметические операторы</h3>
<div id="__asciidoctor-preview-273__" class="openblock notes">
<div class="content">
<div id="__asciidoctor-preview-274__" class="paragraph">
<p>Арифметические операторы предоставляют базовые арифметические действия над типами, такие как
сложение, вычитание, деление, умножение, остаток от деления, присваивание. Любой оператор
может быть определен для множества пользовательского типа. Т.е. вы можете создать свой тип и определить
арифметические операторы для вашего типа. Например, можно определить арифметические операторы для
множества комплексных чисел, которые могут быть представлены в виде вашего собственного
пользовательского типа.</p>
</div>
</div>
</div>
<table id="__asciidoctor-preview-275__" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Арифметические операторы</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Операция</th>
<th class="tableblock halign-left valign-top">Оператор</th>
<th class="tableblock halign-left valign-top">Комментарий</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Присваивание</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">=</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a = b</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Сложение</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a + b</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Вычитание</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a - b</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Унарный плюс</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Унарный минус</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Умножение</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">*</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a * b</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Деление</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a / b</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Остаток от деления</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">%</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a % b</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Инкремет  (пост и предфиксный)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">++</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#43;&#43;a  и  a&#43;&#43;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Декремент (пост и предфиксный)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- -</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">--a и a--</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_логические_операторы">Логические операторы</h3>
<div id="__asciidoctor-preview-309__" class="openblock notes">
<div class="content">
<div id="__asciidoctor-preview-310__" class="paragraph">
<p>Логические операторы предоставляют действия над булевым типов. Результат действия этих операторов
может быть только <strong>true</strong> или <strong>false</strong></p>
</div>
</div>
</div>
<table id="__asciidoctor-preview-311__" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Логические операторы</caption>
<colgroup>
<col style="width: 21.0526%;">
<col style="width: 21.0526%;">
<col style="width: 21.0526%;">
<col style="width: 36.8422%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Операция</th>
<th class="tableblock halign-left valign-top">Оператор</th>
<th class="tableblock halign-left valign-top">Комментарий</th>
<th class="tableblock halign-left valign-top">Пример</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Логическое отрицание, НЕ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">!</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">!a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">!true &#8658; false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Логическое умножение, И</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&amp;&amp;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a &amp;&amp;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true &amp;&amp; false &#8658; false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Логическое сложение, ИЛИ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#124;&#124;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a &#124; &#124;  b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true &#124; &#124;  false &#8658; true</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_побитовые_операторы">Побитовые операторы</h3>
<div id="__asciidoctor-preview-328__" class="openblock notes">
<div class="content">
<div id="__asciidoctor-preview-329__" class="paragraph">
<p>Побитовые операторы предоставляют действия с битами.</p>
</div>
</div>
</div>
<table id="__asciidoctor-preview-330__" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Побитовые операторы</caption>
<colgroup>
<col style="width: 21.0526%;">
<col style="width: 21.0526%;">
<col style="width: 21.0526%;">
<col style="width: 36.8422%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Операция</th>
<th class="tableblock halign-left valign-top">Оператор</th>
<th class="tableblock halign-left valign-top">Комментарий</th>
<th class="tableblock halign-left valign-top">Пример</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Побитовая инверсия</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">~</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">~a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unsigned char a = 0; ~a &#8658; 0xFF</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Побитовое И</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&amp;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a &amp; b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unsigned char a = 1, b = 3; a &amp; b &#8658; 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Побитовое ИЛИ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#124;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a &#124; b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unsigned char a = 1, b = 3; a &#124; b &#8658; 3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Побитовое исключающее ИЛИ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">^</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a ^ b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unsigned char a = 1, b = 3; a ^ b &#8658; 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Побитовый сдвиг влево</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;&lt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a &lt;&lt; b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unsigned char a = 1, b = 3; a &lt;&lt; b &#8658; 8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Побитовый сдвиг вправо</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&gt;&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a &gt;&gt; b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unsigned char a = 8, b = 3; a &gt;&gt; b &#8658; 1</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_отладочная_плата">Отладочная плата</h2>
<div class="sectionbody">
<table id="__asciidoctor-preview-359__" class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong>STM32F411RET6 ядро:</strong> ARM® 32-bit Cortex™-M4</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong>CP2102:</strong> USB - UART преобразователь</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong>Arduino разъем:</strong> для подключения Arduino шилдов ​</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong>ICSP interface:</strong> Arduino ICSP</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong>USB разъем:</strong> USB коммуникационный интерфейс</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong>SWD interface:</strong> для программирования и отладки</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong>ST Morpho разъемы:</strong>  для упрощения расширения​</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>​<strong>6-12 V DC вход питания</strong></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong>Пользовательская кнопка</strong></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>​ *Кнопка Сброса</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong>Индикатор питания</strong></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong>Пользовательские светодиоды</strong></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong>Индикаторы последовательного порта Rx/Tx</strong> ​</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>8 MHz кварцевый резонатор</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong>32.768 KHz кварцевый резонатор</strong></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="http://www.waveshare.com/xnucleo-F411RE.htm" class="bare">http://www.waveshare.com/xnucleo-F411RE.htm</a></p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="__asciidoctor-preview-376__" class="imageblock">
<div class="content">
<img src="Lection2Img/Figure11.png" alt="300" width="300">
</div>
<div class="title">Figure 9. Отладочная плата</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_микроконтроллер_st32f411re">Микроконтроллер ST32F411RE</h2>
<div class="sectionbody">
<div id="Микроконтроллер" class="imageblock">
<div class="content">
<img src="Lection2Img/Figure7.png" alt="600" width="600">
</div>
<div class="title">Figure 10. Функциональные блоки микроконтроллера STM32F411</div>
</div>
<div class="sect2">
<h3 id="_ядро_cortexm4">Ядро CortexM4</h3>
<div id="__asciidoctor-preview-377__" class="imageblock">
<div class="content">
<img src="Lection2Img/Figure12.png" alt="500" width="500">
</div>
<div class="title">Figure 11. Ядро CortexM4</div>
</div>
<div id="__asciidoctor-preview-378__" class="ulist">
<ul>
<li id="__asciidoctor-preview-379__">
<p>Ядро Cortex построено по гарвардской архитектуре с разделением шины данных и кода. ​</p>
</li>
<li id="__asciidoctor-preview-380__">
<p>Ядро Cortex-М4 поддерживает 8/16/32-разрядные операции умножения, которые выполняются за 1 цикл (деление со знаком (SDIV) или без (UDIV) занимает от 2 до 12 тактов в зависимости от размера операндов​</p>
</li>
<li id="__asciidoctor-preview-381__">
<p>Ядро Cortex-М4 поддерживает 8/16/32-разрядные операции умножения со сложением​</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_характеристики_ядра_cortexm4">Характеристики ядра CortexM4</h3>
<table id="__asciidoctor-preview-382__" class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Параметр​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ARM7TDMI​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ARM Cortex-M3​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ARM Cortex-M4​</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Архитектура​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ARMv4T (Фон Неймана)​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ARMv7 (Гарвардская)​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ARMv7 (Гарвардская)​</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Набор инструкций​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Thumb/ARM​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Thumb/Thumb-2​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Thumb/Thumb-2, DSP, SIMD, FP​</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Конвейер​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3 уровня​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3 уровня + предсказание ветвлений​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3 уровня + предсказание ветвлений​</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Прерывания​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FIQ/IRQ​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NMI (немаскируемые) + от 1 до 240 физических источников прерываний​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NMI (немаскируемые) + от 1 до 240 физических источников прерываний​</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Длительность входа в обработчик прерывания​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">24-42 цикла​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12 циклов​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12 циклов​</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Длительность переключения между обработчиками прерываний​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">24 цикла​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6 циклов​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6 циклов​</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Режимы пониженного энергопотребления​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Нет​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Встроены​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Встроены​</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Защита памяти​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Нет​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Блок защиты памяти с 8 областями​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Блок защиты памяти с 8 областями​</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Производительность по тесту Dhrystone​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0,95 DMIPS/МГц</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1,25 DMIPS/МГц​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1,25 DMIPS/МГц​</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Энергопотребление ядра​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0,28 мВт/МГц​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0,19 мВт/МГц​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0,19 мВт/МГц​</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Аппаратный модуль работы с плавающей точкой ​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">нет​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">нет​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">есть​</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_характеристики_микроконтроллера">Характеристики микроконтроллера</h3>
<div id="__asciidoctor-preview-431__" class="openblock notes">
<div class="content">
<div id="__asciidoctor-preview-432__" class="paragraph">
<p>Микроконтроллер имеет следующие характеристики:</p>
</div>
</div>
</div>
<table id="__asciidoctor-preview-433__" class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>32 разрядное ядро ARM Cortex-M4</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Блок работы с числами с плавающей точкой FPU</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>512 кБайт памяти программ</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>128 кБайт ОЗУ</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Встроенный 12 битный 16 канальный АЦП</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>DMA контроллер на 16 каналов</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>USB 2.0</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>3x USART</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>5 x SPI/I2S</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>3x I2C</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>SDIO интерфейс для карт SD/MMC/eMMC</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Аппаратный подсчет контрольной суммы памяти программ CRC</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>6 - 16 разрядных и 2 - 32 разрядных Таймера</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>1 - 16 битный для управления двигателями</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>2  сторожевых таймера</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>1 системный таймер</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Работа на частотах до 100Мгц</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>81 портов ввода вывода</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Питание от 1.7 до 3.6 Вольт</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Потребление 100 мкА/Мгц</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_блок_диаграмма_микроконтроллера">Блок диаграмма микроконтроллера</h3>
<div id="__asciidoctor-preview-454__" class="openblock notes">
<div class="content">
<div id="__asciidoctor-preview-455__" class="paragraph">
<p>Блок схема микроконтроллера схематично изображена на рисунке <a href="#_блок_диаграмма_микроконтроллера">Блок диаграмма микроконтроллера</a>.</p>
</div>
</div>
</div>
<div id="__asciidoctor-preview-456__" class="imageblock">
<div class="content">
<img src="Lection2Img/Figure8.png" alt="500" width="500">
</div>
<div class="title">Figure 12. Блок диаграмма микроконтроллера</div>
</div>
</div>
<div class="sect2">
<h3 id="_дополнительные_особенности_микроконтроллера">Дополнительные особенности микроконтроллера</h3>
<div id="__asciidoctor-preview-457__" class="openblock notes">
<div class="content">
<div id="__asciidoctor-preview-458__" class="paragraph">
<p>Из дополнительных особенностей, которые понадобятся для лабораторных работ следует выделить:</p>
</div>
</div>
</div>
<div id="__asciidoctor-preview-459__" class="ulist">
<ul>
<li id="__asciidoctor-preview-460__">
<p>Настраиваемые источники тактовой частоты</p>
</li>
<li id="__asciidoctor-preview-461__">
<p>Настраиваемые на различные функции порты</p>
</li>
<li id="__asciidoctor-preview-462__">
<p>Внутренний температурный сенсор</p>
</li>
<li id="__asciidoctor-preview-463__">
<p>Таймеры с настраиваемым модулем ШИМ</p>
</li>
<li id="__asciidoctor-preview-464__">
<p>DMA для работы с модулями (SPI, UART, ADC… )</p>
</li>
<li id="__asciidoctor-preview-465__">
<p>12 разрядный ADC последовательного приближения</p>
</li>
<li id="__asciidoctor-preview-466__">
<p>Часы реального времени</p>
</li>
<li id="__asciidoctor-preview-467__">
<p>Системный таймер и спец. прерывания для облегчения и ускорения  работы ОСРВ</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_система_тактирования">Система тактирования</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_блок_диаграмма_системы_тактирования">Блок диаграмма системы тактирования</h2>
<div class="sectionbody">
<table id="__asciidoctor-preview-468__" class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="Lection2Img/Figure13.png" alt="700" width="700">
</div>
<div class="title">Figure 13. Система тактирования микроконтроллера STM32F411</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Для формирования системной тактовой частоты SYSCLK могут использоваться 4 основных источника:​</p>
<div class="ulist">
<ul>
<li>
<p>HSI (high-speed internal) — внутренний высокочастотный RC-генератор.​</p>
</li>
<li>
<p>HSE (high-speed external) — внешний высокочастотный генератор.​</p>
</li>
<li>
<p>PLL — система ФАПЧ. Точнее сказать, это вовсе и не генератор, а набор из умножителей и делителей,
исходный сигнал он получает от HSI или HSE, а на выходе у него уже другая частота.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Также имеются 2 вторичных источника тактового сигнала:​</p>
<div class="ulist">
<ul>
<li>
<p>LSI (low-speed internal) — низкочастотный внутренний RC-генератор на 37 кГц​</p>
</li>
<li>
<p>LSE (low-speed external) — низкочастотный внешний источник на 32,768 кГц​</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_модуль_тактирования">Модуль тактирования.</h3>
<div id="__asciidoctor-preview-471__" class="paragraph">
<p>Модуль тактирования (Reset and Clock Control) RCC</p>
</div>
<div id="__asciidoctor-preview-472__" class="ulist">
<ul>
<li id="__asciidoctor-preview-473__">
<p>Для формирования системной тактовой частоты SYSCLK могут использоваться 4 основных источника:​</p>
<div id="__asciidoctor-preview-474__" class="ulist">
<ul>
<li id="__asciidoctor-preview-475__">
<p>HSI (high-speed internal) — внутренний высокочастотный RC-генератор.​</p>
</li>
<li id="__asciidoctor-preview-476__">
<p>HSE (high-speed external) — внешний высокочастотный генератор.​</p>
</li>
<li id="__asciidoctor-preview-477__">
<p>PLL — система ФАПЧ. Точнее сказать, это вовсе и не генератор, а набор из умножителей и делителей,
исходный сигнал он получает от HSI или HSE, а на выходе у него уже другая частота.​</p>
</li>
</ul>
</div>
</li>
<li id="__asciidoctor-preview-478__">
<p>Также имеются 2 вторичных источника тактового сигнала:​</p>
<div id="__asciidoctor-preview-479__" class="ulist">
<ul>
<li id="__asciidoctor-preview-480__">
<p>LSI (low-speed internal) — низкочастотный внутренний RC-генератор на 37 кГц​</p>
</li>
<li id="__asciidoctor-preview-481__">
<p>LSE (low-speed external) — низкочастотный внешний источник на 32,768 кГц​</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_фазовая_подстройка_частоты_pll">Фазовая подстройка частоты PLL</h3>
<div id="__asciidoctor-preview-482__" class="ulist">
<ul>
<li id="__asciidoctor-preview-483__">
<p>PLL ​Внутренний источник PLL тактируется от внешнего или внутреннего высокочастотных генераторов (HSE либо HSI). ​</p>
<div id="__asciidoctor-preview-484__" class="ulist">
<ul>
<li id="__asciidoctor-preview-485__">
<p>С помощью регистров PLLM, PLLN,PLLP можно подобрать любую частоту до 100 Мгц включительно по формуле:​</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="__asciidoctor-preview-486__" class="exampleblock">
<div class="content">
<div id="__asciidoctor-preview-487__" class="literalblock">
<div class="content">
<pre>f = f(PLL clock input) × (PLLN / PLLM) /PLLP​</pre>
</div>
</div>
</div>
</div>
<div id="__asciidoctor-preview-488__" class="ulist">
<ul>
<li id="__asciidoctor-preview-489__">
<p>Кроме системной тактовой частоты SYSCLK, PLL также выдает частоту 48 МГц для интерфейса USB.
При использовании USB входная частота для PLL должна быть в диапазоне от 2 МГц до 24 МГц.​</p>
</li>
</ul>
</div>
<div id="__asciidoctor-preview-490__" class="exampleblock">
<div class="content">
<div id="__asciidoctor-preview-491__" class="literalblock">
<div class="content">
<pre>f(USB) = f(PLL clock input) × (PLLN / PLLM) / PLLQ​</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_дополнительные_генераторы_тактовой_частоты">Дополнительные генераторы тактовой частоты​</h3>
<div id="__asciidoctor-preview-492__" class="ulist">
<ul>
<li id="__asciidoctor-preview-493__">
<p>LSE. Низкочастотный внешний генератор частоты.​</p>
<div id="__asciidoctor-preview-494__" class="ulist">
<ul>
<li id="__asciidoctor-preview-495__">
<p>Применение внешнего кварцевого/керамического резонатора на 32,768 кГц на входах OSC32_IN, OSC32_OUT.
Высокостабильный источник, формирует тактовые сигналы для часов реального времени RTC, модуля ЖКИ,
а также для таймеров TIM9/TIM10/TIM11.​</p>
</li>
<li id="__asciidoctor-preview-496__">
<p>Использование внешнего источника тактовой частоты (режим LSE bypass). Формируются тактовые
сигналы для часов реального времени и ЖКИ. В этом режиме исходный сигнал поступает с генератора HSE.
Входная частота может быть до 1 МГц, затем сигнал проходит через делитель с коэффициентом деления 2,
 4, 8 или 16. Входной сигнал может быть прямоугольной, треугольной формы или синусоидой с 50% скважностью.​</p>
</li>
</ul>
</div>
</li>
<li id="__asciidoctor-preview-497__">
<p>LSI. Внутренний RC-генератор частотой около 37 кГц.</p>
<div id="__asciidoctor-preview-498__" class="ulist">
<ul>
<li id="__asciidoctor-preview-499__">
<p>Как и LSE, позволяет тактировать часы реального времени и модуль ЖКИ. Кроме этого, поддерживает
работоспособность независимого сторожевого таймера IWDG в режимах Stop и Standby.​</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_регистр_управления_частотой">Регистр управления частотой.</h3>
<div id="__asciidoctor-preview-500__" class="openblock notes">
<div class="content">
<div id="__asciidoctor-preview-501__" class="paragraph">
<p>Clock Control register (CR​)
Как уже упоминалось, системная тактовая частота для серии "STM32F411" может быть до 100 МГц. Для ее
формирования используются 3 основных источника — HSI, HSE, PLL. Включение и выключение основных
генераторов производится через регистр RCC_CR — Clock Control register.</p>
</div>
<div id="__asciidoctor-preview-502__" class="paragraph">
<p>Значение по умолчанию: 0x0000 XX81:​</p>
</div>
</div>
</div>
<div id="__asciidoctor-preview-503__" class="imageblock">
<div class="content">
<img src="Lection2Img/Figure14.png" alt="800" width="700">
</div>
</div>
<div id="__asciidoctor-preview-504__" class="hdlist">
<table>
<tr>
<td class="hdlist1">
Bit 24 PLLON
</td>
<td class="hdlist2">
<p>Включить PLL. Этот бит устанавливается и скидывается программно, чтобы включить PLL.
Бит не может быть скинут, если PLL уже используется как системная частота. ​</p>
<div id="__asciidoctor-preview-507__" class="ulist">
<ul>
<li id="__asciidoctor-preview-508__">
<p><strong>0</strong>: ОТКЛЮЧИТЬ PLL <strong>1</strong>: ВКЛЮЧИТЬ PLL​</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div id="__asciidoctor-preview-509__" class="hdlist">
<table>
<tr>
<td class="hdlist1">
Bit 16: HSEON
</td>
<td class="hdlist2">
<p>Включить HSE. Этот бит устанавливается и скидывается программно.  Бит не может быть
скинут, если HSE уже используется как системная частота. ​</p>
<div id="__asciidoctor-preview-512__" class="ulist">
<ul>
<li id="__asciidoctor-preview-513__">
<p><strong>0</strong>: ОТЛЮЧИТЬ HSE  <strong>1</strong>: ВКЛЮЧИТЬ HSE ​</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div id="__asciidoctor-preview-514__" class="hdlist">
<table>
<tr>
<td class="hdlist1">
Bit 0: HSION
</td>
<td class="hdlist2">
<p>Включить HSI. Этот бит устанавливается и скидывается программно. Очищается аппаратно
при входе в режим Stop или Standby.  Бит не может быть скинут, если HSI уже используется как системная частота. ​</p>
<div id="__asciidoctor-preview-517__" class="ulist">
<ul>
<li id="__asciidoctor-preview-518__">
<p><strong>0</strong>: ВЫКЛЮЧИТЬ HSI <strong>1</strong>: ВКЛЮЧИТЬ HSI ​</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_регистр_управления_частотой_контроль">Регистр управления частотой. Контроль</h3>
<div id="__asciidoctor-preview-519__" class="openblock notes">
<div class="content">
<div id="__asciidoctor-preview-520__" class="paragraph">
<p>Сразу после установки частоты, нужно проверить, что частота с нового источника стабилизировалась. Для
этого используются те же поля того же регистра CR, оканчивающиеся на RDY (Ready)</p>
</div>
</div>
</div>
<div id="__asciidoctor-preview-521__" class="imageblock">
<div class="content">
<img src="Lection2Img/Figure14.png" alt="600" width="600">
</div>
</div>
<div id="__asciidoctor-preview-522__" class="hdlist">
<table>
<tr>
<td class="hdlist1">
Bit 25 PLLRDY
</td>
<td class="hdlist2">
<p>Флаг готовности частоты PLL. Этот бит устанавливается аппаратно ​</p>
<div id="__asciidoctor-preview-525__" class="ulist">
<ul>
<li id="__asciidoctor-preview-526__">
<p><strong>0</strong>: PLL НЕ  ЗАПУЩЕН И  НЕ ИСПОЛЬЗУЕТСЯ <strong>1</strong>: PLL ИСПОЛЬЗУЕТСЯ​</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div id="__asciidoctor-preview-527__" class="hdlist">
<table>
<tr>
<td class="hdlist1">
Bit 17: HSERDY
</td>
<td class="hdlist2">
<p>Флаг готовности частоты  HSE. Этот бит устанавливается аппаратно. ​</p>
<div id="__asciidoctor-preview-530__" class="ulist">
<ul>
<li id="__asciidoctor-preview-531__">
<p><strong>0</strong>: HSE НЕ ГОТОВ <strong>1</strong>: HSE ГОТОВ​</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div id="__asciidoctor-preview-532__" class="hdlist">
<table>
<tr>
<td class="hdlist1">
Bit 1: HSIRDY
</td>
<td class="hdlist2">
<p>Флаг готовности частоты  HSI. Этот бит устанавливается аппаратно​</p>
<div id="__asciidoctor-preview-535__" class="ulist">
<ul>
<li id="__asciidoctor-preview-536__">
<p><strong>0</strong>: HSI НЕ ГОТОВ <strong>1</strong>: HSI ГОТОВ ​</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_регистр_конфигурации_частоты_выбор_источника">Регистр конфигурации частоты. Выбор источника</h3>
<div id="__asciidoctor-preview-537__" class="openblock notes">
<div class="content">
<div id="__asciidoctor-preview-538__" class="paragraph">
<p>После включения генераторов частоты, необходимо выбрать один из них в качестве источника для системной
частоты SYSCLK. Выбор осуществляется через регистр RCC_CFGR — Clock Configuration Register.
Значение по умолчанию: 0x0000 0000​</p>
</div>
</div>
</div>
<div id="__asciidoctor-preview-539__" class="imageblock">
<div class="content">
<img src="Lection2Img/Figure14.png" alt="600" width="600">
</div>
</div>
<div id="__asciidoctor-preview-540__" class="hdlist">
<table>
<tr>
<td class="hdlist1">
Bits 3:2 SWS[1:0]
</td>
<td class="hdlist2">
<p>Статус частоты SYSCLK. ​</p>
<div id="__asciidoctor-preview-543__" class="ulist">
<ul>
<li id="__asciidoctor-preview-544__">
<p><strong>00</strong>: ИСТОЧНИК ЧАСТОТЫ HSI <strong>01</strong>: ИСТОЧНИК ЧАСТОТЫ HSE</p>
</li>
<li id="__asciidoctor-preview-545__">
<p><strong>10</strong>: ИСТОЧНИК ЧАСТОТЫ PLL <strong>11</strong>:  РЕЗЕРВ​</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div id="__asciidoctor-preview-546__" class="hdlist">
<table>
<tr>
<td class="hdlist1">
Bits 1:0 SW[1:0]
</td>
<td class="hdlist2">
<p>Выбор источника частоты SYSCLK. ​</p>
<div id="__asciidoctor-preview-549__" class="ulist">
<ul>
<li id="__asciidoctor-preview-550__">
<p><strong>00</strong>: HSI  <strong>01</strong>: HSE</p>
</li>
<li id="__asciidoctor-preview-551__">
<p><strong>10</strong>: PLL  <strong>11</strong>: НЕ ИСПОЛЬЗУЕТСЯ</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_регистр_конфигурации_частоты_делители">Регистр конфигурации частоты. Делители</h3>
<div id="__asciidoctor-preview-552__" class="paragraph">
<p>Следующие секции регистра HPRE (AHB prescaler), PPRE1 (APB1 prescaler), PPRE2 (APB2 prescaler) —
задают коэффициенты деления системной частоты SYSCLK, которая после предделителей поступает на
матрицы шин. ​</p>
</div>
<div id="__asciidoctor-preview-553__" class="openblock notes">
<div class="content">
<div id="__asciidoctor-preview-554__" class="hdlist">
<table>
<tr>
<td class="hdlist1">
AHB (Advanced High Speed Busses)
</td>
<td class="hdlist2">
<p>матрица высокоскоростных шин. Она "доставляет" сигналы
тактирования к ядру микроконтроллера, памяти (это как FLASH, так EEPROM и RAM) и модулю DMA
Direct Memory Access — модуль прямого доступа к памяти), системному таймеру. Также, в семействе
STM32F4 на эту шину "посажены" и все порты ввода/вывода GPIO .</p>
</td>
</tr>
</table>
</div>
<div id="__asciidoctor-preview-557__" class="hdlist">
<table>
<tr>
<td class="hdlist1">
APB1, APB2 (Advanced Peripheral Bussess)
</td>
<td class="hdlist2">
<p>матрицы шин периферии. Соотвественно, к остальным
периферийным модулям тактовая частота распределяется уже через эти шины. ​</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div id="__asciidoctor-preview-560__" class="imageblock">
<div class="content">
<img src="Lection2Img/Figure14.png" alt="600" width="600">
</div>
</div>
<div id="__asciidoctor-preview-561__" class="hdlist">
<table>
<tr>
<td class="hdlist1">
Bits 13:11 PPRE2[2:0]
</td>
<td class="hdlist2">
<p>Делитель частоты шины APB2. Это устанавливается и очищается программно. ​</p>
<div id="__asciidoctor-preview-564__" class="ulist">
<ul>
<li id="__asciidoctor-preview-565__">
<p><strong>0xx</strong>: AHB      <strong>100</strong>: AHB/2     <strong>101</strong>: AHB/4     <strong>110</strong>: AHB/8    <strong>111</strong>: AHB/16 ​</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div id="__asciidoctor-preview-566__" class="hdlist">
<table>
<tr>
<td class="hdlist1">
Bits 10:8 PPRE1[2:0]
</td>
<td class="hdlist2">
<p>Делитель частоты шины APB1 Это устанавливается и очищается программно. ​</p>
<div id="__asciidoctor-preview-569__" class="ulist">
<ul>
<li id="__asciidoctor-preview-570__">
<p><strong>0xx</strong>: AHB     <strong>100</strong>: AHB/2      <strong>101</strong>: AHB/4     <strong>110</strong>: AHB/8     <strong>111</strong>: AHB/16​</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div id="__asciidoctor-preview-571__" class="hdlist">
<table>
<tr>
<td class="hdlist1">
Bits 7:4 HPRE[3:0]
</td>
<td class="hdlist2">
<p>Делитель частоты шины AHB. ​</p>
<div id="__asciidoctor-preview-574__" class="ulist">
<ul>
<li id="__asciidoctor-preview-575__">
<p><strong>0xxx</strong>: SYSCLK    <strong>1000</strong>: SYSCLK/2     <strong>1001</strong>: SYSCLK/4     <strong>1010</strong>: SYSCLK/8     <strong>1011</strong>: SYSCLK/16
  ​
<strong>1100</strong>: SYSCLK/64  <strong>1101</strong>: SYSCLK/128  <strong>1110</strong>: SYSCLK/256   <strong>1111</strong>: SYSCLK/512​</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_алгоритм_настройки_частоты">Алгоритм настройки частоты​</h3>
<div id="__asciidoctor-preview-576__" class="ulist">
<ul>
<li id="__asciidoctor-preview-577__">
<p>Определить какие источники частоты нужны​</p>
<div id="__asciidoctor-preview-578__" class="ulist">
<ul>
<li id="__asciidoctor-preview-579__">
<p>Например, PLL нужен для USB​</p>
</li>
</ul>
</div>
</li>
<li id="__asciidoctor-preview-580__">
<p>Включить нужный источник​</p>
<div id="__asciidoctor-preview-581__" class="ulist">
<ul>
<li id="__asciidoctor-preview-582__">
<p>Используя Clock Control register (RCC::CR)​</p>
</li>
</ul>
</div>
</li>
<li id="__asciidoctor-preview-583__">
<p>Дождаться стабилизации источника ​</p>
<div id="__asciidoctor-preview-584__" class="ulist">
<ul>
<li id="__asciidoctor-preview-585__">
<p>Используя соответствующие биты (..RDY) Clock Control register ​(RCC::CR)</p>
</li>
</ul>
</div>
</li>
<li id="__asciidoctor-preview-586__">
<p>Назначить нужный источник на системную частоту​</p>
<div id="__asciidoctor-preview-587__" class="ulist">
<ul>
<li id="__asciidoctor-preview-588__">
<p>Используя Clock Configuration Register (RCC::CFGR)​</p>
</li>
</ul>
</div>
</li>
<li id="__asciidoctor-preview-589__">
<p>Дождаться пока источник не переключиться на системную частоту​</p>
<div id="__asciidoctor-preview-590__" class="ulist">
<ul>
<li id="__asciidoctor-preview-591__">
<p>Используя Clock Configuration Register (RCC::CFGR)​</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_контрольные_вопросы">Контрольные вопросы</h2>
<div class="sectionbody">
<div id="__asciidoctor-preview-592__" class="olist arabic">
<ol class="arabic">
<li id="__asciidoctor-preview-593__">
<p>Что такое POD типы данных?</p>
</li>
<li id="__asciidoctor-preview-594__">
<p>Назовите все виды типов в языке С++</p>
</li>
<li id="__asciidoctor-preview-595__">
<p>Что такое пользовательский тип?</p>
</li>
<li id="__asciidoctor-preview-596__">
<p>Назовите модификаторы типов.</p>
</li>
<li id="__asciidoctor-preview-597__">
<p>Назовите правило установки размеров типов</p>
</li>
<li id="__asciidoctor-preview-598__">
<p>Что делает оператор sizeof()?</p>
</li>
<li id="__asciidoctor-preview-599__">
<p>Что характеризует тип std::size_t</p>
</li>
<li id="__asciidoctor-preview-600__">
<p>Назовите фиксированные типы целых в библиотеке std</p>
</li>
<li id="__asciidoctor-preview-601__">
<p>Что такое псевдоним типа?</p>
</li>
<li id="__asciidoctor-preview-602__">
<p>Что такое явное и неявное преобразование типа?</p>
</li>
<li id="__asciidoctor-preview-603__">
<p>Какие явные преобразования типов вы знаете?</p>
</li>
<li id="__asciidoctor-preview-604__">
<p>Что делает reinterpret_cast?</p>
</li>
<li id="__asciidoctor-preview-605__">
<p>Чем static_cast отличается от reinterpret_cast?</p>
</li>
<li id="__asciidoctor-preview-606__">
<p>Что такое ОЗУ и ПЗУ?</p>
</li>
<li id="__asciidoctor-preview-607__">
<p>Каков размер памяти ARM Cortex микроконтроллеров.</p>
</li>
<li id="__asciidoctor-preview-608__">
<p>По какой архитектуре разработан ARM Cortex микроконтроллер?</p>
</li>
<li id="__asciidoctor-preview-609__">
<p>В чем отличие Гарвардской архитектуры от Архитектура ФонНеймана?</p>
</li>
<li id="__asciidoctor-preview-610__">
<p>Где располагаются локальные переменные?</p>
</li>
<li id="__asciidoctor-preview-611__">
<p>Где располагаются статические переменные?</p>
</li>
<li id="__asciidoctor-preview-612__">
<p>Где располагаются глобальные переменные?</p>
</li>
<li id="__asciidoctor-preview-613__">
<p>Что такое стек?</p>
</li>
<li id="__asciidoctor-preview-614__">
<p>Что такое указатель?</p>
</li>
<li id="__asciidoctor-preview-615__">
<p>Что такое разыменовывание указателя?</p>
</li>
<li id="__asciidoctor-preview-616__">
<p>Что означает взятие адреса?</p>
</li>
<li id="__asciidoctor-preview-617__">
<p>Какие операции можно выполнять над указателями?</p>
</li>
<li id="__asciidoctor-preview-618__">
<p>Что такое константный указатель?</p>
</li>
<li id="__asciidoctor-preview-619__">
<p>Что такое указатель на константу?</p>
</li>
<li id="__asciidoctor-preview-620__">
<p>Что такое ссылка? В чем её отличие от указателя?</p>
</li>
<li id="__asciidoctor-preview-621__">
<p>Что такое регистр?</p>
</li>
<li id="__asciidoctor-preview-622__">
<p>Что такое регистры общего назначения?</p>
</li>
<li id="__asciidoctor-preview-623__">
<p>Что такое регистры специального назначения?</p>
</li>
<li id="__asciidoctor-preview-624__">
<p>Как можно установить бит в регистре специального назначения?</p>
</li>
<li id="__asciidoctor-preview-625__">
<p>Объясните как вызывается функция.</p>
</li>
<li id="__asciidoctor-preview-626__">
<p>Что такое трансляция?</p>
</li>
<li id="__asciidoctor-preview-627__">
<p>Что такое компоновка?</p>
</li>
<li id="__asciidoctor-preview-628__">
<p>Как лучше организовывать структуру проекта и почему?</p>
</li>
<li id="__asciidoctor-preview-629__">
<p>Что такое операторы?</p>
</li>
<li id="__asciidoctor-preview-630__">
<p>Какие арифметические операторы вы знаете?</p>
</li>
<li id="__asciidoctor-preview-631__">
<p>Какие логические операторы вы знаете?</p>
</li>
<li id="__asciidoctor-preview-632__">
<p>Какие побитовые операторы вы знаете?</p>
</li>
<li id="__asciidoctor-preview-633__">
<p>Приведите пример переопределения оператора</p>
</li>
<li id="__asciidoctor-preview-634__">
<p>Какие еще операторы вы знаете?</p>
</li>
<li id="__asciidoctor-preview-635__">
<p>Как сбросить бит с помощью битовых операторов?</p>
</li>
<li id="__asciidoctor-preview-636__">
<p>Как установить бит с помощью битовых операторов?</p>
</li>
<li id="__asciidoctor-preview-637__">
<p>Как поменять значение бита с помощью битовых операторов?</p>
</li>
<li id="__asciidoctor-preview-638__">
<p>Какой микроконтроллер на отладочной плате XNUCLE ST32F411?</p>
</li>
<li id="__asciidoctor-preview-639__">
<p>Какие блоки входят в состав микроконтроллера STM32F411?</p>
</li>
<li id="__asciidoctor-preview-640__">
<p>В чем отличие ядра CortexM4 от CortexM3?</p>
</li>
<li id="__asciidoctor-preview-641__">
<p>Назовите основные характеристики микроконтроллера STM32F411.</p>
</li>
<li id="__asciidoctor-preview-642__">
<p>Назовите дополнительные характеристики микроконтроллера STM32F411.</p>
</li>
<li id="__asciidoctor-preview-643__">
<p>Какие источники тактирования есть у микроконтроллера STM32F411</p>
</li>
<li id="__asciidoctor-preview-644__">
<p>Назовите алгоритм подключения системной частоты к источнику тактирования микроконтроллера STM32F411.</p>
</li>
<li id="__asciidoctor-preview-645__">
<p>Что такое ФАПЧ?</p>
</li>
<li id="__asciidoctor-preview-646__">
<p>Что делает следующий код?</p>
</li>
</ol>
</div>
<div id="__asciidoctor-preview-647__" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="cpp" class="language-cpp hljs">int main()
{
  int StudentUdacha = 10;
  int PrepodUdachca = 0 ;

  StudentUdacha =  StudentUdacha ^ PrepodUdachca ;
  PrepodUdachca =  StudentUdacha ^ PrepodUdachca ;
  StudentUdacha ^= PrepodUdachca ;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_задания">Задания</h2>
<div class="sectionbody">
<div id="__asciidoctor-preview-648__" class="paragraph">
<p>3 Задания, кто не успеет в лабораторной, завершить дома.</p>
</div>
<div class="sect2">
<h3 id="_содержание_отчета">Содержание отчета</h3>
<div id="__asciidoctor-preview-649__" class="ulist">
<ul>
<li id="__asciidoctor-preview-650__">
<p>Описать процесс записи в регистр по его адресу</p>
</li>
<li id="__asciidoctor-preview-651__">
<p>Описать полученный результат записи в регистры MODER и ODR</p>
</li>
<li id="__asciidoctor-preview-652__">
<p>Описать процесс вызова функции в IAR</p>
</li>
<li id="__asciidoctor-preview-653__">
<p>Описать регистры общего назначения для семейства Cortex-m4</p>
</li>
<li id="__asciidoctor-preview-654__">
<p>Описать все виды источников тактирования параметры их настройки</p>
</li>
<li id="__asciidoctor-preview-655__">
<p>Описать процесс получения заданной по варианту частоты тактирования</p>
</li>
<li id="__asciidoctor-preview-656__">
<p>Описать ошибки, сделанные при выполнении работы</p>
</li>
<li id="__asciidoctor-preview-657__">
<p>Ответить на контрольные вопросы</p>
</li>
<li id="__asciidoctor-preview-658__">
<p>Сделать выводы</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_задание_1">Задание 1</h3>
<div id="__asciidoctor-preview-659__" class="olist arabic">
<ol class="arabic">
<li id="__asciidoctor-preview-660__">
<p>Создать проект в соответствии с Заданием 1 Лекции 1</p>
</li>
<li id="__asciidoctor-preview-661__">
<p>Написать программу в main.cpp</p>
</li>
</ol>
</div>
<div id="__asciidoctor-preview-662__" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="cpp" class="language-cpp hljs">#include "rccregisters.hpp"   //for RCC
int main() {
  RCC::AHB1ENR::GPIOCEN::Enable::Set() ;
  for(;;) {
    //код лабораторной здесь.
  }
  return 0 ;
}</code></pre>
</div>
</div>
<div id="__asciidoctor-preview-663__" class="olist arabic">
<ol class="arabic">
<li id="__asciidoctor-preview-664__">
<p>Открыть спецификацию на микроконтроллер <a href="https://www.st.com/resource/en/reference_manual/dm00119316.pdf#STM32F411">STM32F411</a>.
на странице 38, узнать на каком адресе расположен модуль GPIOC, на странице 157, узнать смещение регистра
<strong>GPIOС_MODER</strong> относительно адреса <strong>GPIOC</strong> и вычислить адрес регистра <strong>GPIOC_MODER</strong></p>
</li>
<li id="__asciidoctor-preview-665__">
<p>Записать по адресу регистра <strong>GPIOC_MODER</strong> биты номер 10,16,18 в 1, биты номер 11,17,19 в 0.</p>
</li>
<li id="__asciidoctor-preview-666__">
<p>Открыть спецификацию на микроконтроллер <a href="https://www.st.com/resource/en/reference_manual/dm00119316.pdf#STM32F411">STM32F411</a>.
на странице 38, узнать на каком адресе расположен модуль GPIOC, на странице 159, узнать смещение регистра
<strong>GPIOС_ODR</strong> относительно адреса <strong>GPIOC</strong> и вычислить адрес регистра <strong>GPIOC_ODR</strong></p>
</li>
<li id="__asciidoctor-preview-667__">
<p>Записать по адресу регистра <strong>GPIOC_ODR</strong> биты номер 5,8,9 в 1</p>
</li>
<li id="__asciidoctor-preview-668__">
<p>Написать функцию задержки используя цикл <strong>void Delay()</strong>. И вызвать ей после установки битов</p>
</li>
<li id="__asciidoctor-preview-669__">
<p>После задержки Записать по адресу регистра <strong>GPIOC_ODR</strong> биты номер 5,8,9 в 0</p>
</li>
<li id="__asciidoctor-preview-670__">
<p>Вызвать функцию сброса битов</p>
</li>
<li id="__asciidoctor-preview-671__">
<p>Запустить программу, в пошаговой отладке в окне Register, посмотреть, что происходит с регистрами
<strong>GPIOС_MODER</strong> и <strong>GPIOС_ODR</strong>.</p>
</li>
<li id="__asciidoctor-preview-672__">
<p>Посмотреть видео <a href="https://www.youtube.com/watch?v=hukr8ZqS5Ys" class="bare">https://www.youtube.com/watch?v=hukr8ZqS5Ys</a></p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_задание_2">Задание 2</h3>
<div id="__asciidoctor-preview-673__" class="olist arabic">
<ol class="arabic">
<li id="__asciidoctor-preview-674__">
<p>Создать указатель типа <strong>volatile int</strong>*, которая будет содержать адрес регистра GPIOC_MODER</p>
</li>
<li id="__asciidoctor-preview-675__">
<p>Создать переменную типа <strong>int</strong> и записать туда значение, которое содержится по этому адресу</p>
</li>
<li id="__asciidoctor-preview-676__">
<p>Запустить отладку, запустить окно Memory и проверить, что по этому адресу лежит это значение</p>
</li>
<li id="__asciidoctor-preview-677__">
<p>В отладке открыть окно регистры и проверить, что значение регистра GPIOC_MODER, совпадает со значением
в переменной типа <strong>int</strong></p>
</li>
<li id="__asciidoctor-preview-678__">
<p>Проделать тоже самое с произвольным адресом в ОЗУ.</p>
</li>
<li id="__asciidoctor-preview-679__">
<p>Посмотреть видео <a href="https://www.youtube.com/watch?v=M53lJlcFOZQ" class="bare">https://www.youtube.com/watch?v=M53lJlcFOZQ</a></p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_задание_3">Задание 3</h3>
<div id="__asciidoctor-preview-680__" class="olist arabic">
<ol class="arabic">
<li id="__asciidoctor-preview-681__">
<p>Ознакомиться с техническим описанием регистров тактирования микропроцессора</p>
</li>
<li id="__asciidoctor-preview-682__">
<p>Произвести настройку тактирования микропроцессора по варианту см. <a href="#Варианты для системы тактирования">[Варианты для системы тактирования]</a></p>
</li>
<li id="__asciidoctor-preview-683__">
<p>Выполнить пошаговую отладку</p>
</li>
</ol>
</div>
<table id="__asciidoctor-preview-684__" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. Варианты для системы тактирования</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Номер варианта</th>
<th class="tableblock halign-left valign-top">Источник тактирования</th>
<th class="tableblock halign-left valign-top">Частота тактирования</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HSI</p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock">1 Мгц</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HSE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PLL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HSI</p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock">2 Мгц</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HSE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PLL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HSI</p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock">4 Мгц</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HSE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PLL</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
        </div>
      </div>
    </body>
  </html>
